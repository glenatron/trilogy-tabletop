<div class="counter" >
    <div class="counter-edit"  *ngIf="editView==true" >
	<div class="counter-title-row">
	<span class="edit-counter-title" >
	    <label for="edit-counter-title" >
		Title
	    </label>
		<input
		  id="edit-counter-title"
		  name="edit-counter-title" 
		  type="text"
		  [(ngModel)]="counter.name" />
	</span>
	<span class="edit-counter-size" >
	    <label for="edit-counter-size" >
		Size
	    </label>
	    <input
	      type="number"
	      id="edit-counter-size"
	      name="edit-counter-size"
	      value="5"
	      max="10"
	      min="2"
	      [(ngModel)]="counter.size"
	      (change)="updateSize()"
	      />
	</span>
	</div>
	<div class="edit-counter-poles" >
	    <span class="counter-pole">
		<label for="edit-counter-left-pole" >
		    Left pole:
		</label>
		<input
		  id="edit-counter-left-pole"
		  name="edit-counter-left-pole" 
		  type="text"
		  [(ngModel)]="counter.leftPole" />
	    </span>
	    <span class="counter-pole">
		<label for="edit-counter-right-pole" >
		    Right pole:
		</label>
		<input
		  id="edit-counter-right-pole"
		  name="edit-counter-right-pole" 
		  type="text"
		  [(ngModel)]="counter.rightPole" />
	    </span>
	</div>
	<div class="edit-counter-thresholds">
	    <div class="form-label" >Where are the stat thresholds in each direction?</div>
	    <ul class="edit-counter-threshold-values">
		<li *ngFor="let thresh of thresholdList | async">
		    <span [ngClass]="{'threshold-editable' : thresh[1].threshold}">
			{{thresh[0]}} : {{thresh[1].score}}
			<span *ngIf="thresh[1].threshold">
			    <button *ngIf="thresh[1].canMoveUp" (click)="moveThresholdUp(thresh[1].index)">up</button>
			    <button *ngIf="thresh[1].canMoveDown" (click)="moveThresholdDown(thresh[1].index)">down</button>
			</span>
			<span *ngIf="thresh[1].canAdd" >
			    <button (click)="addThreshold(thresh[0])">+</button>
			</span>
		    </span>
		</li>
	    </ul>
	</div>
	<div class="edit-counter-description">
	    <textarea id="edit-counter-description"
                      name="edit-counter-description"
                      [(ngModel)]="counter.description">
	    </textarea>
	</div>
	<div class="edit-counter-buttons">
	<button class="btn btn-success" (click)="saveCounter()" >Save</button>
	<button type="button" class="btn btn-cancel" (click)="cancelEdit()">Cancel</button>
	</div>
    </div>
    <div class="counter"  *ngIf="editView==false" >
	<span class="counter-title">
	    {{counter.name}}
	</span>
	<ul class="counter-list">
	    <li class="two-way-counter-title">{{counter.leftPole}}</li>
	    <li *ngFor="let i of getArray()"
			[ngClass]="{'filled' : (i <= counter.value), 'empty': (counter.value < i)}"
		        (click)="setValue(i)"
	    >
	    </li>
	    <li class="two-way-counter-title">{{counter.rightPole}}</li>
	</ul>
    </div>
    <div class="counter-edit" *ngIf="showEdit && !editView" >
	<button class="btn" (click)="showEditForm()" >Edit</button>
    </div>

</div>
